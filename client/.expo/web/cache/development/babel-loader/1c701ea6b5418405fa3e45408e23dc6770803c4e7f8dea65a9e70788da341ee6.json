{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { Card, Title, Button, ActivityIndicator, useTheme } from 'react-native-paper';\nimport Icon from \"@expo/vector-icons/MaterialCommunityIcons\";\nimport { fetchVideos } from \"../src/api/apiService\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar FeedScreen = function FeedScreen() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    videos = _useState2[0],\n    setVideos = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    error = _useState6[0],\n    setError = _useState6[1];\n  var theme = useTheme();\n  useEffect(function () {\n    _fetchVideos();\n  }, []);\n  var _fetchVideos = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        setLoading(true);\n        var data = yield _fetchVideos();\n        setVideos(data);\n        setError(null);\n      } catch (err) {\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function fetchVideos() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var renderVideoItem = function renderVideoItem(_ref2) {\n    var _item$likes, _item$comments;\n    var item = _ref2.item;\n    return _jsx(Card, {\n      style: styles.card,\n      children: _jsxs(Card.Content, {\n        children: [_jsx(Title, {\n          style: styles.title,\n          children: item.title\n        }), _jsx(View, {\n          style: styles.codeBlock,\n          children: _jsx(Text, {\n            selectable: true,\n            style: styles.codeText,\n            children: item.codeContent\n          })\n        }), _jsxs(View, {\n          style: styles.interactionBar,\n          children: [_jsx(Button, {\n            mode: \"text\",\n            icon: \"heart-outline\",\n            style: styles.interactionButton,\n            children: ((_item$likes = item.likes) == null ? void 0 : _item$likes.length) || 0\n          }), _jsx(Button, {\n            mode: \"text\",\n            icon: \"comment-outline\",\n            style: styles.interactionButton,\n            children: ((_item$comments = item.comments) == null ? void 0 : _item$comments.length) || 0\n          })]\n        })]\n      })\n    });\n  };\n  if (error) {\n    return _jsxs(View, {\n      style: styles.centered,\n      children: [_jsx(Icon, {\n        name: \"alert-circle\",\n        size: 24,\n        color: theme.colors.error\n      }), _jsx(Text, {\n        style: styles.errorText,\n        children: error\n      }), _jsx(Button, {\n        mode: \"contained\",\n        onPress: _fetchVideos,\n        children: \"Retry\"\n      })]\n    });\n  }\n  return _jsx(View, {\n    style: styles.container,\n    children: loading ? _jsx(ActivityIndicator, {\n      animating: true,\n      size: \"large\",\n      style: styles.loader\n    }) : _jsx(FlatList, {\n      data: videos,\n      renderItem: renderVideoItem,\n      keyExtractor: function keyExtractor(item) {\n        return item._id;\n      },\n      contentContainerStyle: styles.listContent\n    })\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f8fafc'\n  },\n  card: {\n    margin: 12,\n    borderRadius: 12,\n    elevation: 2\n  },\n  title: {\n    marginBottom: 12\n  },\n  codeBlock: {\n    backgroundColor: '#ffffff',\n    borderRadius: 8,\n    padding: 16,\n    marginBottom: 16\n  },\n  codeText: {\n    fontFamily: 'monospace',\n    fontSize: 14,\n    color: '#334155'\n  },\n  interactionBar: {\n    flexDirection: 'row',\n    justifyContent: 'flex-start',\n    marginTop: 8\n  },\n  interactionButton: {\n    marginRight: 16\n  },\n  loader: {\n    flex: 1,\n    justifyContent: 'center'\n  },\n  centered: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20\n  },\n  errorText: {\n    marginVertical: 16,\n    color: '#dc2626',\n    fontSize: 16\n  }\n});\nexport default FeedScreen;","map":{"version":3,"names":["React","useEffect","useState","View","FlatList","StyleSheet","Card","Title","Button","ActivityIndicator","useTheme","Icon","fetchVideos","jsx","_jsx","jsxs","_jsxs","FeedScreen","_useState","_useState2","_slicedToArray","videos","setVideos","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","theme","_ref","_asyncToGenerator","data","err","message","apply","arguments","renderVideoItem","_ref2","_item$likes","_item$comments","item","style","styles","card","children","Content","title","codeBlock","Text","selectable","codeText","codeContent","interactionBar","mode","icon","interactionButton","likes","length","comments","centered","name","size","color","colors","errorText","onPress","container","animating","loader","renderItem","keyExtractor","_id","contentContainerStyle","listContent","create","flex","backgroundColor","margin","borderRadius","elevation","marginBottom","padding","fontFamily","fontSize","flexDirection","justifyContent","marginTop","marginRight","alignItems","marginVertical"],"sources":["C:/Users/A R Khan/OneDrive/Documents/Trae/Joy-Hacks/client/screens/FeedScreen.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { View, FlatList, StyleSheet } from 'react-native';\r\nimport { Card, Title, Button, ActivityIndicator, useTheme } from 'react-native-paper';\r\nimport Icon from 'react-native-vector-icons/MaterialCommunityIcons';\r\nimport { fetchVideos } from '../src/api/apiService';\r\n\r\nconst FeedScreen = () => {\r\n  const [videos, setVideos] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const theme = useTheme();\r\n\r\n  useEffect(() => {\r\n    fetchVideos();\r\n  }, []);\r\n\r\n  const fetchVideos = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const data = await fetchVideos();\r\n      setVideos(data);\r\n      setError(null);\r\n    } catch (err) {\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n const renderVideoItem = ({ item }) => (\r\n <Card style={styles.card}>\r\n <Card.Content>\r\n <Title style={styles.title}>{item.title}</Title>\r\n \r\n <View style={styles.codeBlock}>\r\n <Text selectable style={styles.codeText}>{item.codeContent}</Text>\r\n </View>\r\n\r\n <View style={styles.interactionBar}>\r\n <Button mode=\"text\" icon=\"heart-outline\" style={styles.interactionButton}>\r\n {item.likes?.length || 0}\r\n </Button>\r\n <Button mode=\"text\" icon=\"comment-outline\" style={styles.interactionButton}>\r\n {item.comments?.length || 0}\r\n </Button>\r\n </View>\r\n </Card.Content>\r\n </Card>\r\n );\r\n\r\n if (error) {\r\n return (\r\n <View style={styles.centered}>\r\n <Icon name=\"alert-circle\" size={24} color={theme.colors.error} />\r\n <Text style={styles.errorText}>{error}</Text>\r\n <Button mode=\"contained\" onPress={fetchVideos}>Retry</Button>\r\n </View>\r\n );\r\n }\r\n\r\n return (\r\n <View style={styles.container}>\r\n {loading ? (\r\n <ActivityIndicator animating={true} size=\"large\" style={styles.loader} />\r\n ) : (\r\n <FlatList\r\n data={videos}\r\n renderItem={renderVideoItem}\r\n keyExtractor={item => item._id}\r\n contentContainerStyle={styles.listContent}\r\n />\r\n )}\r\n </View>\r\n );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n container: {\r\n flex: 1,\r\n backgroundColor: '#f8fafc'\r\n },\r\n card: {\r\n margin: 12,\r\n borderRadius: 12,\r\n elevation: 2\r\n },\r\n title: {\r\n marginBottom: 12\r\n },\r\n codeBlock: {\r\n backgroundColor: '#ffffff',\r\n borderRadius: 8,\r\n padding: 16,\r\n marginBottom: 16\r\n },\r\n codeText: {\r\n fontFamily: 'monospace',\r\n fontSize: 14,\r\n color: '#334155'\r\n },\r\n interactionBar: {\r\n flexDirection: 'row',\r\n justifyContent: 'flex-start',\r\n marginTop: 8\r\n },\r\n interactionButton: {\r\n marginRight: 16\r\n },\r\n loader: {\r\n flex: 1,\r\n justifyContent: 'center'\r\n },\r\n centered: {\r\n flex: 1,\r\n justifyContent: 'center',\r\n alignItems: 'center',\r\n padding: 20\r\n },\r\n errorText: {\r\n marginVertical: 16,\r\n color: '#dc2626',\r\n fontSize: 16\r\n }\r\n});\r\n\r\nexport default FeedScreen;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}