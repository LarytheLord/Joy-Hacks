{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport axios from 'axios';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nvar API_URL = 'http://localhost:5000/api';\nvar api = axios.create({\n  baseURL: API_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\napi.interceptors.request.use(function () {\n  var _ref = _asyncToGenerator(function* (config) {\n    var token = yield AsyncStorage.getItem('token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  });\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}(), function (error) {\n  return Promise.reject(error);\n});\nexport var register = function () {\n  var _ref2 = _asyncToGenerator(function* (userData) {\n    var response = yield api.post('/auth/register', userData);\n    return response.data;\n  });\n  return function register(_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport var login = function () {\n  var _ref3 = _asyncToGenerator(function* (credentials) {\n    var response = yield api.post('/auth/login', credentials);\n    return response.data;\n  });\n  return function login(_x3) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nexport var getCurrentUser = function () {\n  var _ref4 = _asyncToGenerator(function* () {\n    var response = yield api.get('/auth/me');\n    return response.data;\n  });\n  return function getCurrentUser() {\n    return _ref4.apply(this, arguments);\n  };\n}();\nexport var uploadVideo = function () {\n  var _ref5 = _asyncToGenerator(function* (formData) {\n    var response = yield api.post('/videos', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n    return response.data;\n  });\n  return function uploadVideo(_x4) {\n    return _ref5.apply(this, arguments);\n  };\n}();\nexport var getVideos = function () {\n  var _ref6 = _asyncToGenerator(function* () {\n    var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n    var limit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n    var response = yield api.get(`/videos?page=${page}&limit=${limit}`);\n    return response.data;\n  });\n  return function getVideos() {\n    return _ref6.apply(this, arguments);\n  };\n}();\nexport var getVideo = function () {\n  var _ref7 = _asyncToGenerator(function* (id) {\n    var response = yield api.get(`/videos/${id}`);\n    return response.data;\n  });\n  return function getVideo(_x5) {\n    return _ref7.apply(this, arguments);\n  };\n}();\nexport var likeVideo = function () {\n  var _ref8 = _asyncToGenerator(function* (id) {\n    var response = yield api.put(`/videos/${id}/like`);\n    return response.data;\n  });\n  return function likeVideo(_x6) {\n    return _ref8.apply(this, arguments);\n  };\n}();\nexport var deleteVideo = function () {\n  var _ref9 = _asyncToGenerator(function* (id) {\n    var response = yield api.delete(`/videos/${id}`);\n    return response.data;\n  });\n  return function deleteVideo(_x7) {\n    return _ref9.apply(this, arguments);\n  };\n}();\nexport var updateProfile = function () {\n  var _ref0 = _asyncToGenerator(function* (userData) {\n    var response = yield api.put('/users/profile', userData);\n    return response.data;\n  });\n  return function updateProfile(_x8) {\n    return _ref0.apply(this, arguments);\n  };\n}();\nexport var followUser = function () {\n  var _ref1 = _asyncToGenerator(function* (userId) {\n    var response = yield api.put(`/users/${userId}/follow`);\n    return response.data;\n  });\n  return function followUser(_x9) {\n    return _ref1.apply(this, arguments);\n  };\n}();\nexport var unfollowUser = function () {\n  var _ref10 = _asyncToGenerator(function* (userId) {\n    var response = yield api.put(`/users/${userId}/unfollow`);\n    return response.data;\n  });\n  return function unfollowUser(_x0) {\n    return _ref10.apply(this, arguments);\n  };\n}();\nexport var getUserProfile = function () {\n  var _ref11 = _asyncToGenerator(function* (userId) {\n    var response = yield api.get(`/users/${userId}`);\n    return response.data;\n  });\n  return function getUserProfile(_x1) {\n    return _ref11.apply(this, arguments);\n  };\n}();\nexport var handleApiError = function handleApiError(error) {\n  if (error.response) {\n    throw new Error(error.response.data.message || 'Something went wrong');\n  } else if (error.request) {\n    throw new Error('No response from server');\n  } else {\n    throw new Error(error.message);\n  }\n};","map":{"version":3,"names":["axios","AsyncStorage","API_URL","api","create","baseURL","headers","interceptors","request","use","_ref","_asyncToGenerator","config","token","getItem","Authorization","_x","apply","arguments","error","Promise","reject","register","_ref2","userData","response","post","data","_x2","login","_ref3","credentials","_x3","getCurrentUser","_ref4","get","uploadVideo","_ref5","formData","_x4","getVideos","_ref6","page","length","undefined","limit","getVideo","_ref7","id","_x5","likeVideo","_ref8","put","_x6","deleteVideo","_ref9","delete","_x7","updateProfile","_ref0","_x8","followUser","_ref1","userId","_x9","unfollowUser","_ref10","_x0","getUserProfile","_ref11","_x1","handleApiError","Error","message"],"sources":["C:/Users/A R Khan/OneDrive/Documents/Trae/Joy-Hacks/client/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\nconst API_URL = 'http://localhost:5000/api';\r\n\r\n// Create axios instance\r\nconst api = axios.create({\r\n  baseURL: API_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\n// Add token to requests\r\napi.interceptors.request.use(\r\n  async (config) => {\r\n    const token = await AsyncStorage.getItem('token');\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Auth API calls\r\nexport const register = async (userData) => {\r\n  const response = await api.post('/auth/register', userData);\r\n  return response.data;\r\n};\r\n\r\nexport const login = async (credentials) => {\r\n  const response = await api.post('/auth/login', credentials);\r\n  return response.data;\r\n};\r\n\r\nexport const getCurrentUser = async () => {\r\n  const response = await api.get('/auth/me');\r\n  return response.data;\r\n};\r\n\r\n// Video API calls\r\nexport const uploadVideo = async (formData) => {\r\n  const response = await api.post('/videos', formData, {\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data',\r\n    },\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport const getVideos = async (page = 1, limit = 10) => {\r\n  const response = await api.get(`/videos?page=${page}&limit=${limit}`);\r\n  return response.data;\r\n};\r\n\r\nexport const getVideo = async (id) => {\r\n  const response = await api.get(`/videos/${id}`);\r\n  return response.data;\r\n};\r\n\r\nexport const likeVideo = async (id) => {\r\n  const response = await api.put(`/videos/${id}/like`);\r\n  return response.data;\r\n};\r\n\r\nexport const deleteVideo = async (id) => {\r\n  const response = await api.delete(`/videos/${id}`);\r\n  return response.data;\r\n};\r\n\r\n// User API calls\r\nexport const updateProfile = async (userData) => {\r\n  const response = await api.put('/users/profile', userData);\r\n  return response.data;\r\n};\r\n\r\nexport const followUser = async (userId) => {\r\n  const response = await api.put(`/users/${userId}/follow`);\r\n  return response.data;\r\n};\r\n\r\nexport const unfollowUser = async (userId) => {\r\n  const response = await api.put(`/users/${userId}/unfollow`);\r\n  return response.data;\r\n};\r\n\r\nexport const getUserProfile = async (userId) => {\r\n  const response = await api.get(`/users/${userId}`);\r\n  return response.data;\r\n};\r\n\r\n// Error handling\r\nexport const handleApiError = (error) => {\r\n  if (error.response) {\r\n    // The request was made and the server responded with a status code\r\n    // that falls out of the range of 2xx\r\n    throw new Error(error.response.data.message || 'Something went wrong');\r\n  } else if (error.request) {\r\n    // The request was made but no response was received\r\n    throw new Error('No response from server');\r\n  } else {\r\n    // Something happened in setting up the request that triggered an Error\r\n    throw new Error(error.message);\r\n  }\r\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}